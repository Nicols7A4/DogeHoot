"""
M√ìDULO DE SUBIDA A ONEDRIVE - DogeHoot
=======================================
Este m√≥dulo maneja la subida de archivos a OneDrive
usando la API de Microsoft Graph

INSTRUCCIONES:
1. Copia este archivo: cp onedrive_uploader.py.example onedrive_uploader.py
2. Configura tus credenciales de Azure AD en onedrive_uploader.py
3. onedrive_uploader.py NO se subir√° a Git (est√° en .gitignore)

Autor: DogeHoot Team
Fecha: 23 de octubre de 2025
"""

import os
import requests
from datetime import datetime, timedelta

# Configuraci√≥n de OneDrive/Microsoft Graph
# OBT√âN ESTAS CREDENCIALES EN: https://portal.azure.com
CLIENT_ID = 'TU_CLIENT_ID_AQUI'
CLIENT_SECRET = 'TU_CLIENT_SECRET_AQUI'
REDIRECT_URI = 'http://localhost:5001/onedrive/callback'

# Debug: Verificar que las variables se cargaron
print(f"üîë CLIENT_ID cargado: {'‚úÖ S√≠' if CLIENT_ID else '‚ùå No'}")
print(f"üîê CLIENT_SECRET cargado: {'‚úÖ S√≠' if CLIENT_SECRET else '‚ùå No'}")
print(f"üîó REDIRECT_URI: {REDIRECT_URI}")

# Ruta del archivo de tokens - buscar en la ra√≠z del proyecto
BASE_DIR = os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))
TOKEN_FILE = os.path.join(BASE_DIR, 'token_onedrive.json')


class OneDriveUploader:
    """Clase para subir archivos a OneDrive"""
    
    # ... (resto del c√≥digo igual que el archivo original)
